Java线程池之Pool羊圈事。
#
编程语言
#
<strong>2018-10-17</strong><br>
跟队列一样，这些类似的东西都在<br>
java.util.concurrent包下面<br>
总之，这一块儿是跟CPU玩儿的最撒欢的。<br>
题外：根据中文语法预定，上句中玩儿"的"最撒欢的，应该改为"得"。<br>
同样，英文根据语法约定 RUOK?是不能取代 are you ok?的。<br>
然而，计算机里永远遵循less is more 才是真谛。<br>
为啥要有线程池的概念呢？<br>
咱们说说放羊的故事，有个朋友叫王逊。<br>
喜欢放羊，这是好事儿，放羊总好过放鸽子吧。<br>
打一开始，放一只羊，玩儿那个开心啊。<br>
<hr>
后来，开始挑战自己，放两只三只。也还OK。<br>
毕竟嘛，放羊时候，眼观六路耳听八方，三只羊还是不在话下。<br>
即便是，要腾出手干点别的去，把三只羊 拴起来就行了。<br>
后来，开始几十只的放，我去，崩溃了，抽手干别的，拴羊太费劲啊。<br>
拴不过来了，于是他就修了个羊圈。<br>
故事讲完了，开始做映射了啊。<br>
<h2>划重点</h2>
<b>羊=线程</b><br>
<b>羊圈=线程池</b><br>
<b>放羊=跑程序</b><br>
<hr>
上代码之羊圈的四大类
<pre>
		ExecutorService cachedThreadPool = Executors.newCachedThreadPool();
		ExecutorService fixedThreadPool = Executors.newFixedThreadPool(3);
		ScheduledExecutorService scheduledThreadPool = Executors.newScheduledThreadPool(5);
		ExecutorService singleThreadExecutor = Executors.newSingleThreadExecutor();
</pre>
<b>第一个</b><br>
缓存线程池，突然想到了还有个近似词 buffer,不过这更接近缓冲的意思。<br>
这个羊圈啥意思呢？你可以认为广袤的草原抑或是地球都是你的羊圈，放羊也在羊圈里。<br>
但是，从长时间里看，假设某一只羊死了，后面新出生的羊就复用 为那只羊开辟的 “放羊活动开销”了。<br>
羊圈有多大，看你内存有多大。这么大的羊圈都是大牌儿诸如万科，恒大这样有实力的才能盖起来。<br>
<b>第二个</b><br>
固定大小线程池，羊圈大小，君决定。只有容纳三只羊的羊圈，也只有放三只羊的能力，敢让老子多放一只，<br>
且先等着一只羊死了再说吧(某一个线程执行完)。<br>
典型的，老子能力有限，开的也是有限公司。有多大本事，出多大力。<br>
<b>第三个</b><br>
日程计划线程池，有固定大小，属于第二个的一种业务扩展。大概意思就是，老子有些许放羊的本事，但是老子只兼职。<br>
需要告诉我，啥时候放羊，其他时间，一概不管。<br>
<b>第四个</b><br>
单线程池，单，还他妈的叫池。<br>
大概意思就是，老子退休了，腿脚不灵活，只能放一只羊啊。兄弟，且谅解下吧。<br>
<hr>
其实这四个池，刚好对应人，一开始认为自己牛逼到怼天怼地怼空气，能力超凡，天才在世。<br>
渐渐地，发现，自己有瓶颈的，人贵有自知之明，多大本事就干多大的事儿吧。<br>
后来，不行啊，家庭经济开销大啊，能兼职赚点外快多好啊。<br>
终于，退休了，顾着吃喝拉倒。<br>
总结：假设你需要线程，业务单一，量级小，随便new Thread(new Runnable(){}).start(); 可以。<br>
但是，不满足以上条件，请对号入座使用线程池。