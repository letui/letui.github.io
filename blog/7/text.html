手抄报之正确的代码
#
编程语言
#
2018-08-31<br>
手抄报，意思就是今天看文章，看到了很好的，很有意义的，不得不记录的。<br>
林子大，啥鸟都有，水货也不少。去思考什么是优雅的编程的人是很少的。<br>
什么是优雅？也许看看下面的内容就懂了。<br>
<br>                                                       
<pre>
什么是正确的代码？

1.代码的逻辑结构精确反映了业务的结构。代码的逻辑层级精确反映了业务在不同层次上的抽象。
2.业务中的不变性成为框架性的基础；业务中灵活多变的部分成为顶层代码、DSL、配置或者插件，
  从而能够方便地修改
3.代码有非常好的一致性，相同的业务对象用相同的类型表示，同类的业务对象用相同的接口表示，
  相同的业务逻辑用同一段代码实现，相似的业务逻辑用相同的抽象模型+不同的参数实现，
  独立的业务逻辑用独立的接口和模块实现。
4.业务模型中的保证和约束与代码中的假定完全一致，比如说，永远不假定某个网络请求一定会成功，
  永远不传入一个哪怕只是理论上可能超出允许范围的值。
</pre>
<pre>
正确代码的定义和语言没有什么关系，它完全取决于代码与业务的结构关系，
取决于代码是否与业务的抽象同构。因此，要写出正确的代码，
首先必须要能正确地理解业务，做出对业务的优秀的抽象模型，
然后基于模型做出代码模块、类和接口的设计，关键在于建模，
而建模本质上来说是个数学问题。许多人可能推崇用编程语言思考，
比如Thinking in Java，Thinking in C++，在我看来，
其实应该首先Thinking in Mathematics，
然后思考相应的数学模型如何用编程语言最佳地表示。
国内常见的产品经理不懂技术，架构设计不懂业务的情况，对于做出正确的设计来说是非常糟糕的。
</pre>
<pre>
对于正确的代码来说，业务模型已经理清，需要的只是将业务模型映射到接口，
然后分别实现每个接口。任何编程语言都可以轻易做到这个。
对于动态语言来说，因为不需要写出类型，也可以充分利用动态特性，
编码量会小一些，但静态语言也可以靠自动补全来弥补这个劣势。
动态语言没有静态类型检查，但如果业务逻辑清晰，接口定义明确，类型检查的作用并不是不可或缺的
</pre>
<pre>
要开发出正确的代码，以下的条件都必须具备：

要有一个精确的业务模型和分层级的业务抽象

要有清晰的业务模型映射到代码实现的方案，并在组员中达成一致

必须有精通前两点的人为代码质量把关，严格拒绝所有与设计不符的代码

发现设计错误的时候，要勇于改正，哪怕会因此变动大量代码

为了让第四点有底气，必须有自动化的测试系统来提高开发测试的效率，保障代码正确率和测试覆盖率，这一点对于动态语言尤为重要。

实际上，即使是静态语言，如果你只在上线之前才简单手工测一下，你根本就是在撞大运。没有时间根本不是借口，无非就是懒惰而已。
</pre>